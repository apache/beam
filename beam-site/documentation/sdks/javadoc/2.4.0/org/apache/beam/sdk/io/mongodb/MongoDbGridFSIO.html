<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_112-google-v7) on Wed Mar 07 16:58:56 PST 2018 -->
<title>MongoDbGridFSIO</title>
<meta name="date" content="2018-03-07">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="MongoDbGridFSIO";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../../org/apache/beam/sdk/io/mongodb/MongoDbGridFSIO.ConnectionConfiguration.html" title="class in org.apache.beam.sdk.io.mongodb"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/beam/sdk/io/mongodb/MongoDbGridFSIO.html" target="_top">Frames</a></li>
<li><a href="MongoDbGridFSIO.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.beam.sdk.io.mongodb</div>
<h2 title="Class MongoDbGridFSIO" class="title">Class MongoDbGridFSIO</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.beam.sdk.io.mongodb.MongoDbGridFSIO</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre><a href="../../../../../../org/apache/beam/sdk/annotations/Experimental.html" title="annotation in org.apache.beam.sdk.annotations">@Experimental</a>(<a href="../../../../../../org/apache/beam/sdk/annotations/Experimental.html#value--">value</a>=<a href="../../../../../../org/apache/beam/sdk/annotations/Experimental.Kind.html#SOURCE_SINK">SOURCE_SINK</a>)
public class <span class="typeNameLabel">MongoDbGridFSIO</span>
extends java.lang.Object</pre>
<div class="block">IO to read and write data on MongoDB GridFS.

 <h3>Reading from MongoDB via GridFS</h3>

 <p>MongoDbGridFSIO source returns a bounded collection of Objects as <code>PCollection&lt;T&gt;</code>.

 <p>To configure the MongoDB GridFS source, you can provide the connection URI, the database name
 and the bucket name.  If unspecified, the default values from the GridFS driver are used.</p>

 <p>The following example illustrates various options for configuring the
 source:

 <pre><code>
 pipeline.apply(MongoDbGridFSIO.&lt;String&gt;read()
   .withUri("mongodb://localhost:27017")
   .withDatabase("my-database")
   .withBucket("my-bucket"))
 </code></pre>

 <p>The source also accepts an optional configuration: <code>withQueryFilter()</code> allows you to
 define a JSON filter to get subset of files in the database.

 <p>There is also an optional <code>Parser</code> (and associated <code>Coder</code>) that can be
 specified that can be used to parse the InputStream into objects usable with Beam. By default,
 MongoDbGridFSIO will parse into Strings, splitting on line breaks and using the uploadDate of
 the file as the timestamp.
 When using a parser that outputs with custom timestamps, you may also need to specify
 the allowedTimestampSkew option.</p>



 <h3>Writing to MongoDB via GridFS</h3>

 <p>MongoDBGridFS supports writing of data to a file in a MongoDB GridFS collection.</p>

 <p>To configure a MongoDB GridFS sink, you can provide the connection URI, the database name
 and the bucket name.  You must also provide the filename to write to. Another optional parameter
 is the GridFS file chunkSize.

 For instance:</p>

 <pre><code>

 pipeline
   .apply(...)
   .apply(MongoDbGridFSIO.write()
     .withUri("mongodb://localhost:27017")
     .withDatabase("my-database")
     .withBucket("my-bucket")
     .withChunkSize(256000L)
     .withFilename("my-output.txt"))

 </code></pre>

 <p>There is also an optional argument to the <code>create()</code> method to specify a writer
 that is used to write the data to the OutputStream.  By default, it writes UTF-8 strings
 to the file separated with line feeds.
 </p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/beam/sdk/io/mongodb/MongoDbGridFSIO.ConnectionConfiguration.html" title="class in org.apache.beam.sdk.io.mongodb">MongoDbGridFSIO.ConnectionConfiguration</a></span></code>
<div class="block">Encapsulate the MongoDB GridFS connection logic.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/beam/sdk/io/mongodb/MongoDbGridFSIO.Parser.html" title="interface in org.apache.beam.sdk.io.mongodb">MongoDbGridFSIO.Parser</a>&lt;<a href="../../../../../../org/apache/beam/sdk/io/mongodb/MongoDbGridFSIO.Parser.html" title="type parameter in MongoDbGridFSIO.Parser">T</a>&gt;</span></code>
<div class="block">Interface for the parser that is used to parse the GridFSDBFile into
 the appropriate types.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/beam/sdk/io/mongodb/MongoDbGridFSIO.ParserCallback.html" title="interface in org.apache.beam.sdk.io.mongodb">MongoDbGridFSIO.ParserCallback</a>&lt;<a href="../../../../../../org/apache/beam/sdk/io/mongodb/MongoDbGridFSIO.ParserCallback.html" title="type parameter in MongoDbGridFSIO.ParserCallback">T</a>&gt;</span></code>
<div class="block">Callback for the parser to use to submit data.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/beam/sdk/io/mongodb/MongoDbGridFSIO.Read.html" title="class in org.apache.beam.sdk.io.mongodb">MongoDbGridFSIO.Read</a>&lt;<a href="../../../../../../org/apache/beam/sdk/io/mongodb/MongoDbGridFSIO.Read.html" title="type parameter in MongoDbGridFSIO.Read">T</a>&gt;</span></code>
<div class="block">A <a href="../../../../../../org/apache/beam/sdk/transforms/PTransform.html" title="class in org.apache.beam.sdk.transforms"><code>PTransform</code></a> to read data from MongoDB GridFS.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/beam/sdk/io/mongodb/MongoDbGridFSIO.Write.html" title="class in org.apache.beam.sdk.io.mongodb">MongoDbGridFSIO.Write</a>&lt;<a href="../../../../../../org/apache/beam/sdk/io/mongodb/MongoDbGridFSIO.Write.html" title="type parameter in MongoDbGridFSIO.Write">T</a>&gt;</span></code>
<div class="block">A <a href="../../../../../../org/apache/beam/sdk/transforms/PTransform.html" title="class in org.apache.beam.sdk.transforms"><code>PTransform</code></a> to write data to MongoDB GridFS.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/beam/sdk/io/mongodb/MongoDbGridFSIO.WriteFn.html" title="interface in org.apache.beam.sdk.io.mongodb">MongoDbGridFSIO.WriteFn</a>&lt;<a href="../../../../../../org/apache/beam/sdk/io/mongodb/MongoDbGridFSIO.WriteFn.html" title="type parameter in MongoDbGridFSIO.WriteFn">T</a>&gt;</span></code>
<div class="block">Function that is called to write the data to the give GridFS OutputStream.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../org/apache/beam/sdk/io/mongodb/MongoDbGridFSIO.html#MongoDbGridFSIO--">MongoDbGridFSIO</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static <a href="../../../../../../org/apache/beam/sdk/io/mongodb/MongoDbGridFSIO.Read.html" title="class in org.apache.beam.sdk.io.mongodb">MongoDbGridFSIO.Read</a>&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/beam/sdk/io/mongodb/MongoDbGridFSIO.html#read--">read</a></span>()</code>
<div class="block">Read data from GridFS.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../../org/apache/beam/sdk/io/mongodb/MongoDbGridFSIO.Write.html" title="class in org.apache.beam.sdk.io.mongodb">MongoDbGridFSIO.Write</a>&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/beam/sdk/io/mongodb/MongoDbGridFSIO.html#write--">write</a></span>()</code>
<div class="block">Write data to GridFS.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="../../../../../../org/apache/beam/sdk/io/mongodb/MongoDbGridFSIO.Write.html" title="class in org.apache.beam.sdk.io.mongodb">MongoDbGridFSIO.Write</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/beam/sdk/io/mongodb/MongoDbGridFSIO.html#write-org.apache.beam.sdk.io.mongodb.MongoDbGridFSIO.WriteFn-">write</a></span>(<a href="../../../../../../org/apache/beam/sdk/io/mongodb/MongoDbGridFSIO.WriteFn.html" title="interface in org.apache.beam.sdk.io.mongodb">MongoDbGridFSIO.WriteFn</a>&lt;T&gt;&nbsp;fn)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MongoDbGridFSIO--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MongoDbGridFSIO</h4>
<pre>public&nbsp;MongoDbGridFSIO()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="read--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read</h4>
<pre>public static&nbsp;<a href="../../../../../../org/apache/beam/sdk/io/mongodb/MongoDbGridFSIO.Read.html" title="class in org.apache.beam.sdk.io.mongodb">MongoDbGridFSIO.Read</a>&lt;java.lang.String&gt;&nbsp;read()</pre>
<div class="block">Read data from GridFS. Default behavior with String.</div>
</li>
</ul>
<a name="write--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>public static&nbsp;<a href="../../../../../../org/apache/beam/sdk/io/mongodb/MongoDbGridFSIO.Write.html" title="class in org.apache.beam.sdk.io.mongodb">MongoDbGridFSIO.Write</a>&lt;java.lang.String&gt;&nbsp;write()</pre>
<div class="block">Write data to GridFS. Default behavior with String.</div>
</li>
</ul>
<a name="write-org.apache.beam.sdk.io.mongodb.MongoDbGridFSIO.WriteFn-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>write</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;<a href="../../../../../../org/apache/beam/sdk/io/mongodb/MongoDbGridFSIO.Write.html" title="class in org.apache.beam.sdk.io.mongodb">MongoDbGridFSIO.Write</a>&lt;T&gt;&nbsp;write(<a href="../../../../../../org/apache/beam/sdk/io/mongodb/MongoDbGridFSIO.WriteFn.html" title="interface in org.apache.beam.sdk.io.mongodb">MongoDbGridFSIO.WriteFn</a>&lt;T&gt;&nbsp;fn)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../../org/apache/beam/sdk/io/mongodb/MongoDbGridFSIO.ConnectionConfiguration.html" title="class in org.apache.beam.sdk.io.mongodb"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/beam/sdk/io/mongodb/MongoDbGridFSIO.html" target="_top">Frames</a></li>
<li><a href="MongoDbGridFSIO.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
