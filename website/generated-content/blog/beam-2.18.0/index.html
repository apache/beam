<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>Apache Beam 2.18.0</title><meta name=description content="Apache Beam is an open source, unified model and set of language-specific SDKs for defining and executing data processing workflows, and also data ingestion and integration flows, supporting Enterprise Integration Patterns (EIPs) and Domain Specific Languages (DSLs). Dataflow pipelines simplify the mechanics of large-scale batch and streaming data processing and can run on a number of runtimes like Apache Flink, Apache Spark, and Google Cloud Dataflow (a cloud service). Beam also brings DSL in different languages, allowing users to easily implement their data integration processes."><link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400" rel=stylesheet><link rel=preload href=/scss/main.min.7bfa213b38fe814e9a5d5af502d4d2e0d4e9e7dfe8a528843e32a858c6c92bc2.css as=style><link href=/scss/main.min.7bfa213b38fe814e9a5d5af502d4d2e0d4e9e7dfe8a528843e32a858c6c92bc2.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-2.2.4.min.js></script><style>.body__contained img{max-width:100%}</style><script src=/js/bootstrap.min.js></script><script src=/js/language-switch.js></script><script src=/js/fix-menu.js></script><script src=/js/section-nav.js></script><script src=/js/page-nav.js></script><link rel=alternate type=application/rss+xml title="Apache Beam" href=/feed.xml><link rel=canonical href=/blog/beam-2.18.0/ data-proofer-ignore><link rel="shortcut icon" type=image/x-icon href=/images/favicon.ico><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.4.1/css/all.css integrity=sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz crossorigin=anonymous><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-73650088-1','auto');ga('send','pageview');</script></head><body class=body><nav class="header navbar navbar-fixed-top"><div class=navbar-header><button type=button class=navbar-toggle aria-expanded=false aria-controls=navbar>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span><span class=icon-bar></span><span class=icon-bar></span></button>
<a href=/ class=navbar-brand><img alt=Brand style=height:25px src=/images/beam_logo_navbar.png></a></div><div class="navbar-mask closed"></div><div id=navbar class="navbar-container closed"><ul class="nav navbar-nav"><li><a href=/get-started/beam-overview/>Get Started</a></li><li><a href=/documentation/>Documentation</a></li><li><a href=/documentation/sdks/java/>Languages</a></li><li><a href=/documentation/runners/capability-matrix/>RUNNERS</a></li><li><a href=/roadmap/>Roadmap</a></li><li><a href=/contribute/>Contribute</a></li><li><a href=/community/contact-us/>Community</a></li><li><a href=/blog/>Blog</a></li></ul><ul class="nav navbar-nav navbar-right"><li><div style=width:300px><script>(function(){var cx='012923275103528129024:4emlchv9wzi';var gcse=document.createElement('script');gcse.type='text/javascript';gcse.async=true;gcse.src='https://cse.google.com/cse.js?cx='+cx;var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(gcse,s);})();</script><gcse:search></gcse:search></div></li><li class=dropdown><a href=# class=dropdown-toggle data-toggle=dropdown role=button aria-haspopup=true aria-expanded=false><img src=https://www.apache.org/foundation/press/kit/feather_small.png alt="Apache Logo" style=height:20px><span class=caret></span></a><ul class="dropdown-menu dropdown-menu-right"><li><a href=http://www.apache.org/>ASF Homepage</a></li><li><a href=http://www.apache.org/licenses/>License</a></li><li><a href=http://www.apache.org/security/>Security</a></li><li><a href=http://www.apache.org/foundation/thanks.html>Thanks</a></li><li><a href=http://www.apache.org/foundation/sponsorship.html>Sponsorship</a></li><li><a href=https://www.apache.org/foundation/policies/conduct>Code of Conduct</a></li></ul></li><li><a href=https://github.com/apache/beam/edit/master/website/www/site/content/en/blog/beam-2.18.0.md data-proofer-ignore><i class="far fa-edit fa-lg" alt="Edit on GitHub" title="Edit on GitHub"></i></a></li></ul></div></nav><div class=body__contained><article class=post itemscope itemtype=http://schema.org/BlogPosting><header class=post-header><h1 class=post-title itemprop="name headline">Apache Beam 2.18.0</h1><p class=post-meta><time datetime=2020-01-23T00:00:01-08:00 itemprop=datePublished>Jan 23, 2020</time>
•
Udi Meiri [<a href=https://twitter.com/udim>@udim</a>]
&
Ahmet Altay</p></header><div class=post-content itemprop=articleBody><p>We are happy to present the new 2.18.0 release of Beam. This release includes both improvements and new functionality.
See the <a href=/get-started/downloads/#2180-2020-01-23>download page</a> for this release.</p><p>For more information on changes in 2.18.0, check out the
<a href="https://issues.apache.org/jira/secure/ReleaseNote.jspa?version=12346383&projectId=12319527">detailed release notes</a>.</p><h2 id=highlights>Highlights</h2><ul><li><a href=https://issues.apache.org/jira/browse/BEAM-8470>BEAM-8470</a> - Create a new Spark runner based on Spark Structured streaming framework</li></ul><h3 id=ios>I/Os</h3><ul><li><a href=https://issues.apache.org/jira/browse/BEAM-7636>BEAM-7636</a> - Added SqsIO v2 support.</li><li><a href=https://issues.apache.org/jira/browse/BEAM-8513>BEAM-8513</a> - RabbitMqIO: Allow reads from exchange-bound queue without declaring the exchange.</li><li><a href=https://issues.apache.org/jira/browse/BEAM-8540>BEAM-8540</a> - Fix CSVSink example in FileIO docs</li></ul><h3 id=new-features--improvements>New Features / Improvements</h3><ul><li><a href=https://issues.apache.org/jira/browse/BEAM-5878>BEAM-5878</a> - Added support DoFns with Keyword-only arguments in Python 3.</li><li><a href=https://issues.apache.org/jira/browse/BEAM-6756>BEAM-6756</a> - Improved support for lazy iterables in schemas (Java).</li><li><a href=https://issues.apache.org/jira/browse/BEAM-4776>BEAM-4776</a> AND <a href=https://issues.apache.org/jira/browse/BEAM-4777>BEAM-4777</a> - Added metrics supports to portable runners.</li><li>Various improvements to Interactive Beam: <a href=https://issues.apache.org/jira/browse/BEAM-7760>BEAM-7760</a>, <a href=https://issues.apache.org/jira/browse/BEAM-8379>BEAM-8379</a>, <a href=https://issues.apache.org/jira/browse/BEAM-8016>BEAM-8016</a>, <a href=https://issues.apache.org/jira/browse/BEAM-8016>BEAM-8016</a>.</li><li><a href=https://issues.apache.org/jira/browse/BEAM-8658>BEAM-8658</a> - Optionally set artifact staging port in FlinkUberJarJobServer.</li><li><a href=https://issues.apache.org/jira/browse/BEAM-8660>BEAM-8660</a> - Override returned artifact staging endpoint</li></ul><h3 id=sql>SQL</h3><ul><li><a href=https://issues.apache.org/jira/browse/BEAM-8343>BEAM-8343</a> - [SQL] Add means for IO APIs to support predicate and/or project push-down when running SQL pipelines. And <a href=https://issues.apache.org/jira/browse/BEAM-8468>BEAM-8468</a>, <a href=https://issues.apache.org/jira/browse/BEAM-8365>BEAM-8365</a>, <a href=https://issues.apache.org/jira/browse/BEAM-8508>BEAM-8508</a>.</li><li><a href=https://issues.apache.org/jira/browse/BEAM-8427>BEAM-8427</a> - [SQL] Add support for MongoDB source.</li><li><a href=https://issues.apache.org/jira/browse/BEAM-8456>BEAM-8456</a> - Add pipeline option to control truncate of BigQuery data processed by Beam SQL.</li></ul><h3 id=breaking-changes>Breaking Changes</h3><ul><li><a href=https://issues.apache.org/jira/browse/BEAM-8814>BEAM-8814</a> - &ndash;no_auth flag changed to boolean type.</li></ul><h3 id=deprecations>Deprecations</h3><ul><li><a href=https://issues.apache.org/jira/browse/BEAM-8252>BEAM-8252</a> AND <a href=https://issues.apache.org/jira/browse/BEAM-8254>BEAM-8254</a> Add worker_region and worker_zone options. Deprecated &ndash;zone flag and &ndash;worker_region experiment argument.</li></ul><h3 id=dependency-changes>Dependency Changes</h3><ul><li><a href=https://issues.apache.org/jira/browse/BEAM-7078>BEAM-7078</a> - com.amazonaws:amazon-kinesis-client updated to 1.13.0.</li><li><a href=https://issues.apache.org/jira/browse/BEAM-8822>BEAM-8822</a> - Upgrade Hadoop dependencies to version 2.8.</li></ul><h3 id=bugfixes>Bugfixes</h3><ul><li><a href=https://issues.apache.org/jira/browse/BEAM-7917>BEAM-7917</a> - Python datastore v1new fails on retry.</li><li><a href=https://issues.apache.org/jira/browse/BEAM-7981>BEAM-7981</a> - ParDo function wrapper doesn&rsquo;t support Iterable output types.</li><li><a href=https://issues.apache.org/jira/browse/BEAM-8146>BEAM-8146</a> - SchemaCoder/RowCoder have no equals() function.</li><li><a href=https://issues.apache.org/jira/browse/BEAM-8347>BEAM-8347</a> - UnboundedRabbitMqReader can fail to advance watermark if no new data comes in.</li><li><a href=https://issues.apache.org/jira/browse/BEAM-8352>BEAM-8352</a> - Reading records in background may lead to OOM errors</li><li><a href=https://issues.apache.org/jira/browse/BEAM-8480>BEAM-8480</a> - Explicitly set restriction coder for bounded reader wrapper SDF.</li><li><a href=https://issues.apache.org/jira/browse/BEAM-8515>BEAM-8515</a> - Ensure that ValueProvider types have equals/hashCode implemented for comparison reasons.</li><li><a href=https://issues.apache.org/jira/browse/BEAM-8579>BEAM-8579</a> - Strip UTF-8 BOM bytes (if present) in TextSource.</li><li><a href=https://issues.apache.org/jira/browse/BEAM-8657>BEAM-8657</a> - Not doing Combiner lifting for data-driven triggers.</li><li><a href=https://issues.apache.org/jira/browse/BEAM-8663>BEAM-8663</a> - BundleBasedRunner Stacked Bundles don&rsquo;t respect PaneInfo.</li><li><a href=https://issues.apache.org/jira/browse/BEAM-8667>BEAM-8667</a> - Data channel should to avoid unlimited buffering in Python SDK.</li><li><a href=https://issues.apache.org/jira/browse/BEAM-8802>BEAM-8802</a> - Timestamp combiner not respected across bundles in streaming mode.</li><li><a href=https://issues.apache.org/jira/browse/BEAM-8803>BEAM-8803</a> - Default behaviour for Python BQ Streaming inserts sink should be to retry always.</li><li><a href=https://issues.apache.org/jira/browse/BEAM-8825>BEAM-8825</a> - OOM when writing large numbers of &lsquo;narrow&rsquo; rows.</li><li><a href=https://issues.apache.org/jira/browse/BEAM-8835>BEAM-8835</a> - Artifact retrieval fails with FlinkUberJarJobServer</li><li><a href=https://issues.apache.org/jira/browse/BEAM-8836>BEAM-8836</a> - ExternalTransform is not providing a unique name</li><li><a href=https://issues.apache.org/jira/browse/BEAM-8884>BEAM-8884</a> - Python MongoDBIO TypeError when splitting.</li><li><a href=https://issues.apache.org/jira/browse/BEAM-9041>BEAM-9041</a> - SchemaCoder equals should not rely on from/toRowFunction equality.</li><li><a href=https://issues.apache.org/jira/browse/BEAM-9042>BEAM-9042</a> - AvroUtils.schemaCoder(schema) produces a not serializable SchemaCoder.</li><li><a href=https://issues.apache.org/jira/browse/BEAM-9065>BEAM-9065</a> - Spark runner accumulates metrics (incorrectly) between runs.</li><li><a href=https://issues.apache.org/jira/browse/BEAM-6303>BEAM-6303</a> - Add .parquet extension to files in ParquetIO.</li><li>Various bug fixes and performance improvements.</li></ul><h3 id=known-issues>Known Issues</h3><ul><li><p><a href=https://issues.apache.org/jira/browse/BEAM-8882>BEAM-8882</a> - Python: <code>beam.Create</code> no longer preserves order unless <code>reshuffle=False</code> is passed in as an argument.</p><p>You may encounter this issue when using DirectRunner.</p></li><li><p><a href=https://issues.apache.org/jira/browse/BEAM-9065>BEAM-9065</a> - Spark runner accumulates metrics (incorrectly) between runs</p></li><li><p><a href=https://issues.apache.org/jira/browse/BEAM-9123>BEAM-9123</a> - HadoopResourceId returns wrong directory name</p></li><li><p>See a full list of open <a href="https://issues.apache.org/jira/issues/?jql=project%20%3D%20BEAM%20AND%20affectedVersion%20%3D%202.18.0%20ORDER%20BY%20priority%20DESC%2C%20updated%20DESC">issues that affect</a> this version.</p></li><li><p><a href=https://issues.apache.org/jira/browse/BEAM-9144>BEAM-9144</a> - If you are using Avro 1.9.x with Beam you should not upgrade to this version. There is an issue with timestamp conversions. A fix will be available in the next release.</p></li></ul><h2 id=list-of-contributors>List of Contributors</h2><p>According to git shortlog, the following people contributed to the 2.18.0 release. Thank you to all contributors!</p><p>Ahmet Altay, Aizhamal Nurmamat kyzy, Alan Myrvold, Alexey Romanenko, Alex Van Boxel, Andre Araujo, Andrew Crites, Andrew Pilloud, Aryan Naraghi, Boyuan Zhang, Brian Hulette, bumblebee-coming, Cerny Ondrej, Chad Dombrova, Chamikara Jayalath, Changming Ma, Chun Yang, cmachgodaddy, Colm O hEigeartaigh, Craig Chambers, Daniel Oliveira, Daniel Robert, David Cavazos, David Moravek, David Song, dependabot[bot], Derek, Dmytro Sadovnychyi, Elliotte Rusty Harold, Etienne Chauchot, Hai Lu, Henry Suryawirawan, Ismaël Mejía, Jack Whelpton, Jan Lukavský, Jean-Baptiste Onofré, Jeff Klukas, Jincheng Sun, Jing, Jing Chen, Joe Tsai, Jonathan Alvarez-Gutierrez, Kamil Wasilewski, KangZhiDong, Kasia Kucharczyk, Kenneth Knowles, kirillkozlov, Kirill Kozlov, Kyle Weaver, liumomo315, lostluck, Łukasz Gajowy, Luke Cwik, Mark Liu, Maximilian Michels, Michal Walenia, Mikhail Gryzykhin, Niel Markwick, Ning Kang, nlofeudo, pabloem, Pablo Estrada, Pankaj Gudlani, Piotr Szczepanik, Primevenn, Reuven Lax, Robert Bradshaw, Robert Burke, Rui Wang, Ruoyun Huang, RusOr10n, Ryan Skraba, Saikat Maitra, sambvfx, Sam Rohde, Samuel Husso, Stefano, Steve Koonce, Steve Niemitz, sunjincheng121, Thomas Weise, Tianyang Hu, Tim Robertson, Tomo Suzuki, tvalentyn, Udi Meiri, Valentyn Tymofieiev, Viola Lyu, Wenjia Liu, Yichi Zhang, Yifan Zou, yoshiki.obata, Yueyang Qiu, ziel, 康智冬</p></div></article></div><footer class=footer><div class=footer__contained><div class=footer__cols><div class=footer__cols__col><div class=footer__cols__col__logo><img src=/images/beam_logo_circle.svg class=footer__logo alt="Beam logo"></div><div class=footer__cols__col__logo><img src=/images/apache_logo_circle.svg class=footer__logo alt="Apache logo"></div></div><div class="footer__cols__col footer__cols__col--md"><div class=footer__cols__col__title>Start</div><div class=footer__cols__col__link><a href=/get-started/beam-overview/>Overview</a></div><div class=footer__cols__col__link><a href=/get-started/quickstart-java/>Quickstart (Java)</a></div><div class=footer__cols__col__link><a href=/get-started/quickstart-py/>Quickstart (Python)</a></div><div class=footer__cols__col__link><a href=/get-started/quickstart-go/>Quickstart (Go)</a></div><div class=footer__cols__col__link><a href=/get-started/downloads/>Downloads</a></div></div><div class="footer__cols__col footer__cols__col--md"><div class=footer__cols__col__title>Docs</div><div class=footer__cols__col__link><a href=/documentation/programming-guide/>Concepts</a></div><div class=footer__cols__col__link><a href=/documentation/pipelines/design-your-pipeline/>Pipelines</a></div><div class=footer__cols__col__link><a href=/documentation/runners/capability-matrix/>Runners</a></div></div><div class="footer__cols__col footer__cols__col--md"><div class=footer__cols__col__title>Community</div><div class=footer__cols__col__link><a href=/contribute/>Contribute</a></div><div class=footer__cols__col__link><a href=https://projects.apache.org/committee.html?beam target=_blank>Team<img src=/images/external-link-icon.png width=14 height=14 alt="External link."></a></div><div class=footer__cols__col__link><a href=/community/presentation-materials/>Media</a></div><div class=footer__cols__col__link><a href=/community/in-person/>Events/Meetups</a></div></div><div class="footer__cols__col footer__cols__col--md"><div class=footer__cols__col__title>Resources</div><div class=footer__cols__col__link><a href=/blog/>Blog</a></div><div class=footer__cols__col__link><a href=/community/contact-us/>Contact Us</a></div><div class=footer__cols__col__link><a href=https://github.com/apache/beam>GitHub</a></div></div></div></div><div class=footer__bottom>&copy;
<a href=http://www.apache.org>The Apache Software Foundation</a>
| <a href=/privacy_policy>Privacy Policy</a>
| <a href=/feed.xml>RSS Feed</a><br><br>Apache Beam, Apache, Beam, the Beam logo, and the Apache feather logo are either registered trademarks or trademarks of The Apache Software Foundation. All other products or name brands are trademarks of their respective holders, including The Apache Software Foundation.</div></footer></body></html>