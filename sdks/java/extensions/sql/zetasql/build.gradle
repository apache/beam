/*
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * License); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

plugins {
  id 'org.apache.beam.module'
}

applyJavaNature(
  enableChecker: false,
  ignoreRawtypeErrors: true,
  automaticModuleName: 'org.apache.beam.sdk.extensions.sql.zetasql')

description = "Apache Beam :: SDKs :: Java :: Extensions :: SQL :: ZetaSQL"
ext.summary = "ZetaSQL to Calcite translator"

def zetasql_version = "2020.08.1"

dependencies {
  implementation project(":sdks:java:core")
  implementation project(":sdks:java:extensions:sql")
  implementation library.java.vendored_calcite_1_20_0
  implementation library.java.guava
  implementation library.java.grpc_api
  implementation library.java.protobuf_java
  implementation library.java.protobuf_java_util
  implementation "com.google.api.grpc:proto-google-common-protos:1.12.0" // Interfaces with ZetaSQL use this
  implementation "com.google.api.grpc:grpc-google-common-protos:1.12.0" // Interfaces with ZetaSQL use this
  implementation "com.google.zetasql:zetasql-jni-channel:$zetasql_version"
  implementation "com.google.zetasql:zetasql-client:$zetasql_version"
  implementation "com.google.zetasql:zetasql-types:$zetasql_version"
  testImplementation library.java.vendored_calcite_1_20_0
  testImplementation library.java.vendored_guava_26_0_jre
  testImplementation library.java.junit
  testImplementation library.java.hamcrest_core
  testImplementation library.java.hamcrest_library
  testImplementation library.java.mockito_core
  testImplementation library.java.quickcheck_core
  testRuntimeOnly library.java.slf4j_jdk14
}

