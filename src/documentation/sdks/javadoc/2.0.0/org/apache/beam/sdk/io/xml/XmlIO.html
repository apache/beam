<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_112-google-v7) on Fri May 12 16:50:07 PDT 2017 -->
<title>XmlIO</title>
<meta name="date" content="2017-05-12">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="XmlIO";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/beam/sdk/io/xml/JAXBCoder.html" title="class in org.apache.beam.sdk.io.xml"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/apache/beam/sdk/io/xml/XmlIO.Read.html" title="class in org.apache.beam.sdk.io.xml"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/beam/sdk/io/xml/XmlIO.html" target="_top">Frames</a></li>
<li><a href="XmlIO.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.beam.sdk.io.xml</div>
<h2 title="Class XmlIO" class="title">Class XmlIO</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.beam.sdk.io.xml.XmlIO</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">XmlIO</span>
extends java.lang.Object</pre>
<div class="block">Transforms for reading and writing XML files using JAXB mappers.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/beam/sdk/io/xml/XmlIO.Read.html" title="class in org.apache.beam.sdk.io.xml">XmlIO.Read</a>&lt;<a href="../../../../../../org/apache/beam/sdk/io/xml/XmlIO.Read.html" title="type parameter in XmlIO.Read">T</a>&gt;</span></code>
<div class="block">Implementation of <a href="../../../../../../org/apache/beam/sdk/io/xml/XmlIO.html#read--"><code>read()</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/beam/sdk/io/xml/XmlIO.Write.html" title="class in org.apache.beam.sdk.io.xml">XmlIO.Write</a>&lt;<a href="../../../../../../org/apache/beam/sdk/io/xml/XmlIO.Write.html" title="type parameter in XmlIO.Write">T</a>&gt;</span></code>
<div class="block">Implementation of <a href="../../../../../../org/apache/beam/sdk/io/xml/XmlIO.html#write--"><code>write()</code></a>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../org/apache/beam/sdk/io/xml/XmlIO.html#XmlIO--">XmlIO</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="../../../../../../org/apache/beam/sdk/io/xml/XmlIO.Read.html" title="class in org.apache.beam.sdk.io.xml">XmlIO.Read</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/beam/sdk/io/xml/XmlIO.html#read--">read</a></span>()</code>
<div class="block">Reads XML files.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="../../../../../../org/apache/beam/sdk/io/xml/XmlIO.Write.html" title="class in org.apache.beam.sdk.io.xml">XmlIO.Write</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/beam/sdk/io/xml/XmlIO.html#write--">write</a></span>()</code>
<div class="block">A <a href="../../../../../../org/apache/beam/sdk/io/FileBasedSink.html" title="class in org.apache.beam.sdk.io"><code>FileBasedSink</code></a> that outputs records as XML-formatted elements.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="XmlIO--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>XmlIO</h4>
<pre>public&nbsp;XmlIO()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="read--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;<a href="../../../../../../org/apache/beam/sdk/io/xml/XmlIO.Read.html" title="class in org.apache.beam.sdk.io.xml">XmlIO.Read</a>&lt;T&gt;&nbsp;read()</pre>
<div class="block">Reads XML files. This source reads one or more XML files and creates a <a href="../../../../../../org/apache/beam/sdk/values/PCollection.html" title="class in org.apache.beam.sdk.values"><code>PCollection</code></a> of a
 given type. Please note the example given below.

 <p>The XML file must be of the following form, where <code>root</code> and <code>record</code> are XML
 element names that are defined by the user:

 <pre><code>
 &lt;root&gt;
 &lt;record&gt; ... &lt;/record&gt;
 &lt;record&gt; ... &lt;/record&gt;
 &lt;record&gt; ... &lt;/record&gt;
 ...
 &lt;record&gt; ... &lt;/record&gt;
 &lt;/root&gt;
 </code></pre>

 <p>Basically, the XML document should contain a single root element with an inner list
 consisting entirely of record elements. The records may contain arbitrary XML content; however,
 that content <b>must not</b> contain the start <code>&lt;record&gt;</code> or end <code>&lt;/record&gt;</code> tags.
 This restriction enables reading from large XML files in parallel from different offsets in the
 file.

 <p>Root and/or record elements may additionally contain an arbitrary number of XML attributes.
 Additionally users must provide a class of a JAXB annotated Java type that can be used convert
 records into Java objects and vice versa using JAXB marshalling/unmarshalling mechanisms.
 Reading the source will generate a <code>PCollection</code> of the given JAXB annotated Java type.
 Optionally users may provide a minimum size of a bundle that should be created for the source.

 <p>The following example shows how to use this method in a Beam pipeline:

 <pre><code>
 PCollection&lt;String&gt; output = p.apply(XmlIO.&lt;Record&gt;read()
     .from(file.toPath().toString())
     .withRootElement("root")
     .withRecordElement("record")
     .withRecordClass(Record.class));
 </code></pre>

 <p>By default, UTF-8 charset is used. If your file is using a different charset, you have to
 specify the following:

 <pre><code>
 PCollection&lt;String&gt; output = p.apply(XmlIO.&lt;Record&gt;read()
      .from(file.toPath().toString())
      .withRooElement("root")
      .withRecordElement("record")
      .withRecordClass(Record.class)
      .withCharset(StandardCharsets.ISO_8859_1));
 </code></pre>

 <p><code>StandardCharsets</code> provides static references to common charsets.

 <p>Currently, only XML files that use single-byte characters are supported. Using a file that
 contains multi-byte characters may result in data loss or duplication.

 <h3>Permissions</h3>

 <p>Permission requirements depend on the <a href="../../../../../../org/apache/beam/sdk/PipelineRunner.html" title="class in org.apache.beam.sdk"><code>PipelineRunner</code></a> that is used to execute the Beam pipeline. Please refer to the documentation of
 corresponding <a href="../../../../../../org/apache/beam/sdk/PipelineRunner.html" title="class in org.apache.beam.sdk"><code>PipelineRunners</code></a> for more details.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - Type of the objects that represent the records of the XML file. The <code>PCollection</code> generated by this source will be of this type.</dd>
</dl>
</li>
</ul>
<a name="write--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>write</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;<a href="../../../../../../org/apache/beam/sdk/io/xml/XmlIO.Write.html" title="class in org.apache.beam.sdk.io.xml">XmlIO.Write</a>&lt;T&gt;&nbsp;write()</pre>
<div class="block">A <a href="../../../../../../org/apache/beam/sdk/io/FileBasedSink.html" title="class in org.apache.beam.sdk.io"><code>FileBasedSink</code></a> that outputs records as XML-formatted elements. Writes a <a href="../../../../../../org/apache/beam/sdk/values/PCollection.html" title="class in org.apache.beam.sdk.values"><code>PCollection</code></a> of records from JAXB-annotated classes to a single file location.

 <p>Given a PCollection containing records of type T that can be marshalled to XML elements,
 this Sink will produce a single file consisting of a single root element that contains all of
 the elements in the PCollection.

 <p>XML Sinks are created with a base filename to write to, a root element name that will be
 used for the root element of the output files, and a class to bind to an XML element. This
 class will be used in the marshalling of records in an input PCollection to their XML
 representation and must be able to be bound using JAXB annotations (checked at pipeline
 construction time).

 <p>XML Sinks can be written to using the <a href="../../../../../../org/apache/beam/sdk/io/xml/XmlIO.Write.html" title="class in org.apache.beam.sdk.io.xml"><code>XmlIO.Write</code></a> transform:

 <pre><code>
 p.apply(XmlIO.&lt;Type&gt;write()
      .withRecordClass(Type.class)
      .withRootElement(root_element)
      .toFilenamePrefix(output_filename));
 </code></pre>

 <p>For example, consider the following class with JAXB annotations:

 <pre>
   @XmlRootElement(name = "word_count_result")
   @XmlType(propOrder = {"word", "frequency"})
  public class WordFrequency {
    private String word;
    private long frequency;

    public WordFrequency() { }

    public WordFrequency(String word, long frequency) {
      this.word = word;
      this.frequency = frequency;
    }

    public void setWord(String word) {
      this.word = word;
    }

    public void setFrequency(long frequency) {
      this.frequency = frequency;
    }

    public long getFrequency() {
      return frequency;
    }

    public String getWord() {
      return word;
    }
  }
 </pre>

 <p>The following will produce XML output with a root element named "words" from a PCollection
 of WordFrequency objects:

 <pre><code>
 p.apply(XmlIO.&lt;WordFrequency&gt;write()
     .withRecordClass(WordFrequency.class)
     .withRootElement("words")
     .toFilenamePrefix(output_file));
 </code></pre>

 <p>The output of which will look like:

 <pre><code>
 &lt;words&gt;

  &lt;word_count_result&gt;
    &lt;word&gt;decreased&lt;/word&gt;
    &lt;frequency&gt;1&lt;/frequency&gt;
  &lt;/word_count_result&gt;

  &lt;word_count_result&gt;
    &lt;word&gt;War&lt;/word&gt;
    &lt;frequency&gt;4&lt;/frequency&gt;
  &lt;/word_count_result&gt;

  &lt;word_count_result&gt;
    &lt;word&gt;empress'&lt;/word&gt;
    &lt;frequency&gt;14&lt;/frequency&gt;
  &lt;/word_count_result&gt;

  &lt;word_count_result&gt;
    &lt;word&gt;stoops&lt;/word&gt;
    &lt;frequency&gt;6&lt;/frequency&gt;
  &lt;/word_count_result&gt;

  ...
 &lt;/words&gt;
 </code></pre>

 <p>By default the UTF-8 charset is used. This can be overridden, for example:

 <pre><code>
 p.apply(XmlIO.&lt;Type&gt;write()
      .withRecordClass(Type.class)
      .withRootElement(root_element)
      .withCharset(StandardCharsets.ISO_8859_1)
      .toFilenamePrefix(output_filename));
 </code></pre></div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/beam/sdk/io/xml/JAXBCoder.html" title="class in org.apache.beam.sdk.io.xml"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/apache/beam/sdk/io/xml/XmlIO.Read.html" title="class in org.apache.beam.sdk.io.xml"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/beam/sdk/io/xml/XmlIO.html" target="_top">Frames</a></li>
<li><a href="XmlIO.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
